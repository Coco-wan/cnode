webpackJsonp([9],{"+hXE":function(t,n){},"34+y":function(t,n){},"499Q":function(t,n){},"5reh":function(t,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return i}),e.d(n,"c",function(){return o}),e.d(n,"d",function(){return c}),e.d(n,"e",function(){return u});var a="updateTopicId",i="login",o="logout",c="recordPath",u="addUser"},"97Sy":function(t,n){},C69x:function(t,n){},Cz6C:function(t,n){},IcnI:function(t,n,e){"use strict";var a=e("7+uW"),i=e("NYxO"),o=e("lwq5"),c=e("ukYY"),u=e("UjVw"),r=e("sax8"),s=e.n(r);a.default.use(i.b);var l=new i.b.Store({state:o.a,mutations:c.a,getters:u.a,plugins:[s()()]});n.a=l},M93x:function(t,n,e){"use strict";function a(t){e("499Q")}var i=e("xJD8"),o=e("Xipd"),c=e("VU/8"),u=a,r=c(i.a,o.a,u,null,null);n.a=r.exports},MTyd:function(t,n,e){"use strict";function a(t){e("C69x")}var i=e("uaVK"),o=e("z6Q2"),c=e("VU/8"),u=a,r=c(i.a,o.a,u,"data-v-62a44744",null);n.a=r.exports},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("97Sy"),i=(e.n(a),e("bCKv")),o=e.n(i),c=e("7+uW"),u=e("M93x"),r=e("YaEn"),s=e("IcnI"),l=e("cTzj"),d=e.n(l);c.default.use(o.a),c.default.use(d.a),c.default.config.productionTip=!1,new c.default({el:"#app",router:r.a,store:s.a,template:"<App/>",components:{App:u.a}})},UjVw:function(t,n,e){"use strict";var a={topicId:function(t){return t.topicId},token:function(t){return t.token},indexPath:function(t){return t.indexPath},user:function(t){return t.user}};n.a=a},Xipd:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[t.tabbarShow?e("tabbar"):t._e(),t._v(" "),e("keep-alive",[e("router-view")],1)],1)},i=[],o={render:a,staticRenderFns:i};n.a=o},YaEn:function(t,n,e){"use strict";var a=e("34+y"),i=(e.n(a),e("X+yh")),o=e.n(i),c=e("7+uW"),u=e("/ocq"),r=e("IcnI");if(c.default.use(u.a),window.localStorage.getItem("_token")){var s=window.localStorage.getItem("_token"),l=JSON.parse(window.localStorage.getItem("_user"));r.a.commit("login",s),r.a.commit("addUser",l)}var d=[{path:"/",redirect:"/index/all"},{path:"/index",component:function(t){e.e(7).then(function(){var n=[e("Pt1D")];t.apply(null,n)}.bind(this)).catch(e.oe)},children:[{path:"",redirect:"all"},{path:":tab",component:function(t){e.e(4).then(function(){var n=[e("wJaO")];t.apply(null,n)}.bind(this)).catch(e.oe)}}]},{path:"/issue",component:function(t){e.e(3).then(function(){var n=[e("ZJcV")];t.apply(null,n)}.bind(this)).catch(e.oe)},meta:{requireAuth:!0}},{path:"/message",component:function(t){e.e(2).then(function(){var n=[e("Q96i")];t.apply(null,n)}.bind(this)).catch(e.oe)},meta:{requireAuth:!0}},{path:"/home",component:function(t){e.e(5).then(function(){var n=[e("LqM4")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/topic/:id",component:function(t){e.e(1).then(function(){var n=[e("+Lla")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/about",component:function(t){e.e(6).then(function(){var n=[e("zRCK")];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/login",component:function(t){e.e(0).then(function(){var n=[e("K31e")];t.apply(null,n)}.bind(this)).catch(e.oe)}}],f=new u.a({routes:d});f.beforeEach(function(t,n,e){t.meta.requireAuth&&(r.a.state.token?e():(o()({message:"请先登录",duration:2e3}),e({path:"/login",query:{redirect:t.fullPath}}))),e()}),n.a=f},lwq5:function(t,n,e){"use strict";var a={topicId:"",token:"",indexPath:"",user:{}};n.a=a},uaVK:function(t,n,e){"use strict";var a=e("Cz6C"),i=(e.n(a),e("dU8H")),o=e.n(i),c=e("+hXE"),u=(e.n(c),e("fUV+")),r=e.n(u),s=e("Dd8w"),l=e.n(s),d=e("NYxO");n.a={data:function(){return{selected:""}},methods:{changeRouter:function(){this.$router.push({path:this.selected})},index:function(){return this.indexPath||"/index/all"}},computed:l()({},e.i(d.a)(["indexPath"])),components:{"m-tabbar":r.a,"m-tabitem":o.a},created:function(){this.selected=this.$route.fullPath},watch:{$route:function(){this.selected=this.$route.fullPath}}}},ukYY:function(t,n,e){"use strict";var a,i=e("bOdI"),o=e.n(i),c=e("5reh"),u=(a={},o()(a,c.a,function(t,n){t.topicId=n}),o()(a,c.b,function(t,n){t.token=n}),o()(a,c.c,function(t){""!==t.token&&(t.token="",t.user={})}),o()(a,c.d,function(t,n){t.indexPath=n}),o()(a,c.e,function(t,n){t.user=n}),a);n.a=u},xJD8:function(t,n,e){"use strict";var a=e("MTyd");n.a={components:{tabbar:a.a},computed:{tabbarShow:function(){return-1===this.$route.path.indexOf("/topic")&&-1===this.$route.path.indexOf("/login")&&-1===this.$route.path.indexOf("/about")}}}},z6Q2:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("m-tabbar",{staticClass:"tabbar",attrs:{fixed:!0},model:{value:t.selected,callback:function(n){t.selected=n},expression:"selected"}},[e("m-tabitem",{attrs:{id:t.index()},nativeOn:{click:function(n){t.changeRouter(n)}}},[e("i",{staticClass:"icon-shouye",slot:"icon"}),t._v("\n        首页\n    ")]),t._v(" "),e("m-tabitem",{attrs:{id:"/issue"},nativeOn:{click:function(n){t.changeRouter(n)}}},[e("i",{staticClass:"icon-dianping",slot:"icon"}),t._v("\n        发表\n    ")]),t._v(" "),e("m-tabitem",{attrs:{id:"/message"},nativeOn:{click:function(n){t.changeRouter(n)}}},[e("i",{staticClass:"icon-duanxin",slot:"icon"}),t._v("\n        消息\n    ")]),t._v(" "),e("m-tabitem",{attrs:{id:"/home"},nativeOn:{click:function(n){t.changeRouter(n)}}},[e("i",{staticClass:"icon-geren",slot:"icon"}),t._v("\n        我的\n    ")])],1)},i=[],o={render:a,staticRenderFns:i};n.a=o}},["NHnr"]);
//# sourceMappingURL=app.f8ae3e87094cbf8dd01d.js.map